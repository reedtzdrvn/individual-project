(this["webpackJsonpreact-vk-todo"]=this["webpackJsonpreact-vk-todo"]||[]).push([[0],{15:function(e,t,n){e.exports={text:"AddNewColumn_text__2FhVj"}},16:function(e,t,n){e.exports=n(28)},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),s=n.n(c),i=n(1),l=n(5),o=n(8),u=n.n(o),d=n(3),m=n.n(d),f=function(e){var t=e.text,n=e.deleteTask,a=e.id,c=e.index,s=e.ColumnId;return r.a.createElement(l.b,{draggableId:a,index:c},(function(e){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),r.a.createElement("li",{className:"tasks__item"},r.a.createElement("span",null,t),r.a.createElement("img",{onClick:function(){return n(a,s)},src:m.a,alt:"cross"})))}))},E=function(e){var t=e.tasks,n=e.addTask,c=e.title,s=e.deleteTask,o=e.deleteColumn,d=e.id,E=e.ColumnId,p=Object(a.useState)(!1),b=Object(i.a)(p,2),k=b[0],v=b[1],O=Object(a.useState)(""),j=Object(i.a)(O,2),C=j[0],T=j[1],g=function(e){n(C,c),v(!1),T("")};return r.a.createElement(l.c,{droppableId:"".concat(d)},(function(e){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"tasks"}),r.a.createElement("div",{className:"tasks__title"},r.a.createElement("p",null,c),r.a.createElement("img",{onClick:function(){return o(c)},src:m.a,alt:"cross"})),r.a.createElement("ul",{className:"tasksController"},t.map((function(e,t){return r.a.createElement(f,Object.assign({deleteTask:s,ColumnId:E,key:e.id,index:t},e))}))),e.placeholder,k?r.a.createElement("div",{className:"textareaHandle"},r.a.createElement("textarea",{autoFocus:!0,className:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",rows:"3",value:C,onChange:function(e){return T(e.target.value)}}),r.a.createElement("div",{className:"flexContainer"},r.a.createElement("button",{onClick:g},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"),r.a.createElement("img",{onClick:function(){return v(!1)},src:m.a,alt:"cross"}))):r.a.createElement("div",{onClick:function(){return v(!0)},className:"buttonHandle"},r.a.createElement("img",{src:u.a,alt:"add"}),r.a.createElement("button",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443")))}))},p=n(15),b=n.n(p),k=function(e){var t=e.addTitle,n=Object(a.useState)(!1),c=Object(i.a)(n,2),s=c[0],l=c[1],o=Object(a.useState)(""),d=Object(i.a)(o,2),f=d[0],E=d[1];return r.a.createElement("div",{className:"tasks"},s?r.a.createElement("div",{className:"textareaHandle"},r.a.createElement("textarea",{autoFocus:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438",rows:"3",value:f,onChange:function(e){return E(e.target.value)},className:"text "+b.a.text}),r.a.createElement("div",{className:"flexContainer"},r.a.createElement("button",{onClick:function(){t(f),l(!1),E("")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443"),r.a.createElement("img",{onClick:function(){return l(!1)},src:m.a,alt:"cross"}))):r.a.createElement("div",{onClick:function(){return l(!0)},className:"buttonHandle"},r.a.createElement("img",{src:u.a,alt:"add"}),r.a.createElement("button",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u043e\u043b\u043e\u043d\u043a\u0443")))},v=function(e,t){var n=null;return e.columns.forEach((function(e){e.id===t&&(n=e.tasks)})),{tasks:n,id:t}},O=function(e,t,n){var a=e.source,r=e.destination;if(e.destination)if(a.droppableId===r.droppableId){var c=null;n.columns.forEach((function(e){e.id===a.droppableId&&(c=e.tasks)})),t({type:"SET_TASKS",items:function(e,t,n){var a=Array.from(e),r=a.splice(t,1),c=Object(i.a)(r,1)[0];return a.splice(n,0,c),a}(c,e.source.index,e.destination.index),id:a.droppableId})}else{t({type:"CHANGE_TASKS",items:function(e,t,n,a){var r=Array.from(e.tasks),c=Array.from(t.tasks),s=r.splice(n.index,1),l=Object(i.a)(s,1)[0];return c.splice(a.index,0,l),{source:{tasks:r,id:e.id},destination:{tasks:c,id:t.id}}}(v(n,a.droppableId),v(n,r.droppableId),a,r)})}},j=n(12),C=n(2),T=function(){return Math.random().toString(10).substr(2,9)},g={columns:[]},x=function(e,t){switch(t.type){case"ADD_TASK":return{columns:e.columns.map((function(e){return e.title===t.group?Object(C.a)({},e,{tasks:[].concat(Object(j.a)(e.tasks),[{text:t.task,id:T()}])}):e}))};case"ADD_TITLE":return Object(C.a)({},e,{columns:[].concat(Object(j.a)(e.columns),[{title:t.title,tasks:[],id:T()}])});case"DELETE_TASK":return Object(C.a)({},e,{columns:e.columns.map((function(e){return e.id===t.ColumnId?Object(C.a)({},e,{tasks:e.tasks.filter((function(e){return e.id!==t.id}))}):e}))});case"DELETE_COLUMN":return Object(C.a)({},e,{columns:e.columns.filter((function(e){return e.title!==t.title}))});case"SET_TASKS":return Object(C.a)({},e,{columns:e.columns.map((function(e){return e.id===t.id?Object(C.a)({},e,{tasks:t.items}):e}))});case"CHANGE_TASKS":return Object(C.a)({},e,{columns:e.columns.map((function(e){return e.id===t.items.source.id?Object(C.a)({},e,{tasks:t.items.source.tasks}):e.id===t.items.destination.id?Object(C.a)({},e,{tasks:t.items.destination.tasks}):e}))});default:return e}},S=function(e){var t=Object(a.useReducer)(x,g),n=Object(i.a)(t,2),c=n[0],s=n[1];return r.a.createElement("div",{className:"wrapper"},r.a.createElement(l.a,{onDragEnd:function(e){return O(e,s,c)}},c.columns.map((function(e,t){return r.a.createElement(E,{key:e.id,ColumnId:e.id,title:e.title,id:e.id,addTask:function(e,t){return s(function(e,t){return{type:"ADD_TASK",task:e,group:t}}(e,t))},deleteTask:function(e,t){return s(function(e,t){return{type:"DELETE_TASK",id:e,ColumnId:t}}(e,t))},deleteColumn:function(e){return s(function(e){return{type:"DELETE_COLUMN",title:e}}(e))},tasks:e.tasks})})),r.a.createElement(k,{addTitle:function(e){return s(function(e){return{type:"ADD_TITLE",title:e}}(e))}})))};n(27);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))},3:function(e,t,n){e.exports=n.p+"static/media/cross.5fe0db66.svg"},8:function(e,t,n){e.exports=n.p+"static/media/vector.6cb6e5fc.svg"}},[[16,1,2]]]);
//# sourceMappingURL=main.616fde6b.chunk.js.map